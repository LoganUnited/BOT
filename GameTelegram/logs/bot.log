2025-06-25 16:42:55,946 - utils.logger - INFO - Запуск бота...
2025-06-25 16:42:56,573 - game.tasks - INFO - Запущена задача auto_afk_and_income_task
2025-06-25 16:42:56,574 - utils.logger - ERROR - Критическая ошибка: Cannot close a running event loop
Traceback (most recent call last):
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1042, in __run
    loop.run_until_complete(self._bootstrap_initialize(max_retries=bootstrap_retries))
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 701, in run_until_complete
    self._check_running()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 637, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1067, in __run
    loop.run_until_complete(self.shutdown())
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 701, in run_until_complete
    self._check_running()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 637, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\GameTelegram\main.py", line 31, in <module>
    asyncio.run(main())
    ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "E:\GameTelegram\main.py", line 27, in main
    await app.run_polling()
          ~~~~~~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 832, in run_polling
    return self.__run(
           ~~~~~~~~~~^
        updater_coroutine=self.updater.start_polling(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
        close_loop=close_loop,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1072, in __run
    loop.close()
    ~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\proactor_events.py", line 684, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop
2025-06-25 16:45:48,432 - utils.logger - INFO - Запуск бота...
2025-06-25 16:45:48,997 - game.tasks - INFO - Запущена задача auto_afk_and_income_task
2025-06-25 16:45:48,998 - utils.logger - ERROR - Критическая ошибка: Cannot close a running event loop
Traceback (most recent call last):
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1042, in __run
    loop.run_until_complete(self._bootstrap_initialize(max_retries=bootstrap_retries))
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 701, in run_until_complete
    self._check_running()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 637, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1067, in __run
    loop.run_until_complete(self.shutdown())
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 701, in run_until_complete
    self._check_running()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 637, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\GameTelegram\main.py", line 31, in <module>
    asyncio.run(main())
    ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "E:\GameTelegram\main.py", line 27, in main
    await app.run_polling()
          ~~~~~~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 832, in run_polling
    return self.__run(
           ~~~~~~~~~~^
        updater_coroutine=self.updater.start_polling(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
        close_loop=close_loop,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1072, in __run
    loop.close()
    ~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\proactor_events.py", line 684, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop
2025-06-25 16:49:55,048 - utils.logger - INFO - Запуск бота...
2025-06-25 16:49:55,545 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-06-25 16:49:55,621 - utils.logger - ERROR - Критическая ошибка: Cannot close a running event loop
Traceback (most recent call last):
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1042, in __run
    loop.run_until_complete(self._bootstrap_initialize(max_retries=bootstrap_retries))
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 701, in run_until_complete
    self._check_running()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 637, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1067, in __run
    loop.run_until_complete(self.shutdown())
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 701, in run_until_complete
    self._check_running()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 637, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\GameTelegram\main.py", line 39, in <module>
    asyncio.run(main())
    ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "E:\GameTelegram\main.py", line 31, in main
    await app.run_polling()
          ~~~~~~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 832, in run_polling
    return self.__run(
           ~~~~~~~~~~^
        updater_coroutine=self.updater.start_polling(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
        close_loop=close_loop,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1072, in __run
    loop.close()
    ~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\selector_events.py", line 101, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop
2025-06-25 16:50:04,977 - utils.logger - INFO - Запуск бота...
2025-06-25 16:50:05,476 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-06-25 16:50:05,512 - utils.logger - ERROR - Критическая ошибка: Cannot close a running event loop
Traceback (most recent call last):
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1042, in __run
    loop.run_until_complete(self._bootstrap_initialize(max_retries=bootstrap_retries))
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 701, in run_until_complete
    self._check_running()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 637, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1067, in __run
    loop.run_until_complete(self.shutdown())
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 701, in run_until_complete
    self._check_running()
    ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 637, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\GameTelegram\main.py", line 39, in <module>
    asyncio.run(main())
    ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "E:\GameTelegram\main.py", line 31, in main
    await app.run_polling()
          ~~~~~~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 832, in run_polling
    return self.__run(
           ~~~~~~~~~~^
        updater_coroutine=self.updater.start_polling(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
        close_loop=close_loop,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py", line 1072, in __run
    loop.close()
    ~~~~~~~~~~^^
  File "C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\selector_events.py", line 101, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop
2025-06-25 16:51:07,689 - utils.logger - INFO - Запуск бота...
2025-06-25 16:51:08,208 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-06-25 16:51:08,448 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7578255189:AAEkOcP-BmvZnOWXz39iYCop7PgDVMllSMQ/getMe "HTTP/1.1 200 OK"
2025-06-25 16:51:08,449 - apscheduler.scheduler - INFO - Added job "auto_afk_and_income_task" to job store "default"
2025-06-25 16:51:08,449 - apscheduler.scheduler - INFO - Scheduler started
2025-06-25 16:51:08,451 - telegram.ext.Application - INFO - Application started
2025-06-25 16:51:08,451 - utils.logger - INFO - Бот запущен! Для остановки нажмите Ctrl+C
2025-06-25 16:51:08,517 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7578255189:AAEkOcP-BmvZnOWXz39iYCop7PgDVMllSMQ/deleteWebhook "HTTP/1.1 200 OK"
2025-06-25 16:51:08,517 - utils.logger - ERROR - Критическая ошибка: This Application is still running!
2025-06-25 16:51:20,147 - utils.logger - INFO - Запуск бота...
2025-06-25 16:51:20,645 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-06-25 16:51:20,850 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7578255189:AAEkOcP-BmvZnOWXz39iYCop7PgDVMllSMQ/getMe "HTTP/1.1 200 OK"
2025-06-25 16:51:20,851 - apscheduler.scheduler - INFO - Added job "auto_afk_and_income_task" to job store "default"
2025-06-25 16:51:20,852 - apscheduler.scheduler - INFO - Scheduler started
2025-06-25 16:51:20,852 - telegram.ext.Application - INFO - Application started
2025-06-25 16:51:20,853 - utils.logger - INFO - Бот запущен! Для остановки нажмите Ctrl+C
2025-06-25 16:51:20,917 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7578255189:AAEkOcP-BmvZnOWXz39iYCop7PgDVMllSMQ/deleteWebhook "HTTP/1.1 200 OK"
2025-06-25 16:51:20,918 - utils.logger - ERROR - Критическая ошибка: This Application is still running!
2025-06-25 16:54:11,274 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-06-25 16:54:11,275 - utils.logger - INFO - Бот успешно запущен
2025-06-25 16:54:11,484 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7578255189:AAEkOcP-BmvZnOWXz39iYCop7PgDVMllSMQ/getMe "HTTP/1.1 200 OK"
2025-06-25 16:54:11,485 - apscheduler.scheduler - INFO - Added job "auto_afk_and_income_task" to job store "default"
2025-06-25 16:54:11,485 - apscheduler.scheduler - INFO - Scheduler started
2025-06-25 16:54:11,487 - telegram.ext.Application - INFO - Application started
2025-06-25 16:54:11,555 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7578255189:AAEkOcP-BmvZnOWXz39iYCop7PgDVMllSMQ/deleteWebhook "HTTP/1.1 200 OK"
2025-06-25 16:54:11,556 - utils.logger - ERROR - Критическая ошибка: This Application is still running!
2025-06-25 16:54:11,557 - utils.logger - INFO - Бот полностью остановлен
2025-06-25 16:54:11,571 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-4' coro=<Updater._start_polling.<locals>.polling_action_cb() running at C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_updater.py:333>>
2025-06-25 16:54:11,573 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-5' coro=<Event.wait() running at C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\asyncio\locks.py:200>>
2025-06-25 16:54:11,574 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Updater:start_polling:polling_task' coro=<network_retry_loop() done, defined at C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_utils\networkloop.py:44> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-06-25 16:54:11,574 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Application:7578255189:update_fetcher' coro=<Application._update_fetcher() running at C:\Users\baryk\AppData\Local\Programs\Python\Python313\Lib\site-packages\telegram\ext\_application.py:1221> wait_for=<Future pending cb=[Task.task_wakeup()]>>
